function trackEvent(a,b,c){osAnalytics.trackEvent(a,b,c)}function identifyUser(a,b,c,d){osAnalytics.identifyUser(a,{name:b,email:c,osId:d})}var osAnalytics=window.top.osAnalytics=window.top.osAnalytics||function(a){function b(a,b){try{var c=b.document.getElementById(a);if(null!==c)return c;for(var d=0;"undefined"!=typeof b.frames[d];){var c=b.frames[d].document.getElementById(a);if(null!==c)break;if(c=FindIframe(a,b.frames[d]),null!==c)break;d++}return c}catch(e){return null}}var c={},d=!1,e=!1,f=!1,g=!1,h=!0,j=!1,k=!1,l=[],m=[],n=[];c.setOptions=function(a){try{"undefined"!=typeof a.identifyInIntercom&&(g=a.identifyInIntercom),"undefined"!=typeof a.useGoogleAnalyticsDecorator&&(h=a.useGoogleAnalyticsDecorator),"undefined"!=typeof a.useSegment&&(d=a.useSegment),"undefined"!=typeof a.useIntercom&&(e=a.useIntercom),"undefined"!=typeof a.sendToGoogleAnalytics&&(f=a.sendToGoogleAnalytics)}catch(b){"undefined"!=typeof console&&console.error("setOption Error: "+b)}},c.initialize=function(a){d=a.useSegment,e=a.useIntercom,g=a.identifyInIntercom,f=a.sendToGoogleAnalytics,"undefined"!=typeof a.useGoogleAnalyticsDecorator&&(h=a.useGoogleAnalyticsDecorator),d?u(a.key,B):e?(v(a.key),w(a.key,B)):v(a.intercomKey,B),j=!0,C()},c.ready=function(a){try{j?a():m.push(a)}catch(b){"undefined"!=typeof console&&console.error("ready Error: "+b)}},c.loaded=function(a){try{k?a():n.push(a)}catch(b){"undefined"!=typeof console&&console.error("loaded Error: "+b)}},c.registerEventTracker=function(b,d,e,f){a(document).ready(function(){try{a(b).length&&a(b).bind("click",function(){c.trackEvent(d,e,f)})}catch(g){"undefined"!=typeof console&&console.error("RegisterTrackEvent Error: "+g)}})},c.trackEvent=function(a,b,c){try{j?o(a,b,c):l.push({f:o,params:[a,b,c]})}catch(d){"undefined"!=typeof console&&console.error("TrackEvent Error: "+d)}},c.identifyUser=function(a,b){try{j?p(a,b):l.push({f:p,params:[a,b]})}catch(c){"undefined"!=typeof console&&console.error("IdentifyUser Error: "+c)}},c.addUserTraits=function(a){try{j?q(a):l.push({f:q,params:[a]})}catch(b){"undefined"!=typeof console&&console.error("AddUserTraits Error: "+b)}},c.aliasUser=function(a,b){try{j?r(a,b):l.push({f:r,params:[a,b]})}catch(c){"undefined"!=typeof console&&console.error("AliasUser Error: "+c)}},c.addToGroup=function(a,b){try{j?s(a,b):l.push({f:s,params:[a,b]})}catch(c){"undefined"!=typeof console&&console.error("addToGroup Error: "+c)}},c.trackPageVisit=function(a){try{j?t(a):l.push({f:t,params:[a]})}catch(b){"undefined"!=typeof console&&console.error("trackPageVisit Error: "+b)}},c.decorateURL=function(a,b){b="undefined"!=typeof b?b:!1;var c=[{key:"utm_source",utmz:"utmcsr"},{key:"utm_campaign",utmz:"utmccn"},{key:"utm_medium",utmz:"utmcmd"},{key:"utm_term",utmz:"utmctr"},{key:"utm_content",utmz:"utmcct"}],d=[],e=[];for(i=0;i<c.length;i++){var f=z(c[i].key);f&&(d.push(c[i].key+"="+f),b&&c[i].utmz&&e.push(c[i].utmz+"="+f))}return b&&e.length>0&&(e=e.join("|"),d.push("__utmz=."+e)),A(a,d)},c.setIframeURL=function(a,d){var e=b(a,window);if(null!=e)try{var f=setTimeout(function(a){return function(){a.src=d}}(e),500);!function(a,b){return c.ready(function(){try{if(h){var e=window._gaq=window._gaq||[];e.push(function(){var c=_gat._getTrackerByName();a.src=c._getLinkerUrl(d),clearTimeout(b)})}else a.src=c.decorateURL(d),clearTimeout(b)}catch(f){a.src=d}})}(e,f)}catch(g){e.src=d}else console.log("osAnalytics.setIframeURL: unable to find iframe with id ["+a+"]")};var o=function(a,b,c){try{if("undefined"!=typeof console&&console.log("TrackEvent: "+a+" # "+b+" # "+c),"undefined"==typeof a)throw new Error("The eventName must be defined.");c&&p(c),null!=b?(d?analytics.track(a,b):_kmq.push(["record",a,b]),e&&Intercom("trackEvent",a,b),f&&"undefined"!=typeof _gaq&&"undefined"!=typeof b.category&&("undefined"!=typeof b.label?"undefined"!=typeof b.value?_gaq.push(["_trackEvent",b.category,a,b.label,b.value]):_gaq.push(["_trackEvent",b.category,a,b.label]):_gaq.push(["_trackEvent",b.category,a]))):(d?analytics.track(a):_kmq.push(["record",a]),e&&Intercom("trackEvent",a))}catch(g){"undefined"!=typeof console&&console.error("TrackEvent Error: "+g)}},p=function(a,b){try{if("undefined"!=typeof console&&console.log("IdentifyUser: "+a+" # "+b),d){if(!g)var c={Intercom:!1};null!=b?analytics.identify(a,b,{integrations:c}):analytics.identify(a,{},{integrations:c})}else _kmq.push(["identify",a]),null!=b&&_kmq.push(["set",x(b)])}catch(e){"undefined"!=typeof console&&console.error("IdentifyUser Error: "+e)}},q=function(a){try{if("undefined"!=typeof console&&console.log("AddUserTraits: "+a),d){if(!g)var b={Intercom:!1};null!=a&&analytics.identify(a,{integrations:b})}else null!=a&&_kmq.push(["set",x(a)])}catch(c){"undefined"!=typeof console&&console.error("AddUserTraits Error: "+c)}},r=function(a,b){try{"undefined"!=typeof console&&console.log("AliasUser: "+a),d?a!=b&&a&&(b?analytics.alias(a,b):analytics.alias(a)):a&&b&&_kmq.push(["alias",a,b])}catch(c){"undefined"!=typeof console&&console.error("AliasUser Error: "+c)}},s=function(a,b){try{"undefined"!=typeof console&&console.log("addToGroup: "+a+" # "+b+" # "),null!=b?d?analytics.group(a,b):_kmq.push(["set",y(b,a)]):d?analytics.group(a):_kmq.push(["set",y(b,a)])}catch(c){"undefined"!=typeof console&&console.error("addToGroup Error: "+c)}},t=function(a){try{"undefined"!=typeof console&&console.log("TrackPageVisit"),d?analytics.page(a):KM.pageView()}catch(b){"undefined"!=typeof console&&console.error("TrackPageView Error: "+b)}},u=function(a,b){var c=window.analytics=window.analytics||[];if(!c.initialize)if(c.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{c.invoked=!0,c.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"],c.factory=function(a){return function(){var b=Array.prototype.slice.call(arguments);return b.unshift(a),c.push(b),c}};for(var d=0;d<c.methods.length;d++){var e=c.methods[d];c[e]=c.factory(e)}c.load=function(a){var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+a+"/analytics.min.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)},c.SNIPPET_VERSION="3.1.0",c.load(a),c.page(),b&&c.ready(b)}},v=function(a,b){function c(a){setTimeout(function(){var b=document,c=b.getElementsByTagName("script")[0],d=b.createElement("script");d.type="text/javascript",d.async=!0,d.src=a,c.parentNode.insertBefore(d,c)},1)}var d=window._kmq=window._kmq||[],e=e||a;c("//i.kissmetrics.com/i.js"),c("//doug1izaerwt3.cloudfront.net/"+e+".1.js"),b&&d.push(b)},w=function(a,b){function c(){var b=f.createElement("script");b.type="text/javascript",b.async=!0,b.src="https://widget.intercom.io/widget/"+a;var c=f.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}var d=window,e=d.Intercom;if("function"==typeof e)e("reattach_activator"),e("update",intercomSettings);else{var f=document,g=function(){g.c(arguments)};g.q=[],g.c=function(a){g.q.push(a)},d.Intercom=g,d.attachEvent?d.attachEvent("onload",c):d.addEventListener("load",c,!1)}},x=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return null!=b&&""!=b&&(c._p=b),c},y=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c["Group - "+d.charAt(0).toUpperCase()+d.slice(1)]=a[d]);return null!=b&&""!=b&&(c["Group - id"]=b),c},z=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},A=function(a,b){if(b.length>0){b=b.join("&");var c=document.createElement("a");c.href=a;var d=c.search.length>0?"&":"?";a=a+d+b}return a},B=function(){k=!0,D()},C=function(){for(var a in m)m[a]();m=[];for(var a in l)l[a].params&&l[a].f(l[a].params[0],l[a].params[1],l[a].params[2],l[a].params[3]);l=[]},D=function(){for(var a in n)n[a]();n=[]};return c}(jQuery);window.self!==window.top&&osAnalytics.trackPageVisit({path:location.pathname,referrer:document.referrer,title:document.title,search:location.search,url:-1!=location.href.indexOf("?")?location.href:location.href+location.search});