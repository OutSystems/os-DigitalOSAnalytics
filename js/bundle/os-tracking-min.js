function getDomainTop(){var a=window;try{for(;a.parent.document!==a.document;)a=a.parent}catch(b){}return a}function trackEvent(a,b,c){osAnalytics.trackEvent(a,b,c)}function identifyUser(a,b,c,d){osAnalytics.identifyUser(a,{name:b,email:c,osId:d})}var osAnalytics=getDomainTop().osAnalytics=getDomainTop().osAnalytics||function(a){function b(a,c){try{var d=c.document.getElementById(a);if(null!==d)return d;for(var e=0;"undefined"!=typeof c.frames[e];){var d=c.frames[e].document.getElementById(a);if(null!==d)break;if(d=b(a,c.frames[e]),null!==d)break;e++}return d}catch(f){return null}}var c={},d=!1,e=!1,f=!1,g=!1,h=!0,j=!1,k=!1,l=[],m=[],n=[],o=!1;c.setOptions=function(a){try{"undefined"!=typeof a.identifyInIntercom&&(g=a.identifyInIntercom),"undefined"!=typeof a.useGoogleAnalyticsDecorator&&(h=a.useGoogleAnalyticsDecorator),"undefined"!=typeof a.useSegment&&(d=a.useSegment),"undefined"!=typeof a.useIntercom&&(e=a.useIntercom),"undefined"!=typeof a.sendToGoogleAnalytics&&(f=a.sendToGoogleAnalytics),"undefined"!=typeof a.sendCookies&&(o=a.sendCookies)}catch(b){"undefined"!=typeof console&&console.error("setOption Error: "+b)}},c.initialize=function(a){d=a.useSegment,e=a.useIntercom,g=a.identifyInIntercom,f=a.sendToGoogleAnalytics,o=a.sendCookies,"undefined"!=typeof a.useGoogleAnalyticsDecorator&&(h=a.useGoogleAnalyticsDecorator),d?v(a.key,E):e?(w(a.key),x(a.key,E)):w(a.intercomKey,E),j=!0,F()},c.ready=function(a){try{j?a():m.push(a)}catch(b){"undefined"!=typeof console&&console.error("ready Error: "+b)}},c.loaded=function(a){try{k?a():n.push(a)}catch(b){"undefined"!=typeof console&&console.error("loaded Error: "+b)}},c.registerEventTracker=function(b,d,e,f){a(document).ready(function(){try{a(b).length&&a(b).bind("click",function(){c.trackEvent(d,e,f)})}catch(g){"undefined"!=typeof console&&console.error("RegisterTrackEvent Error: "+g)}})},c.trackEvent=function(a,b,c,d){try{j?p(a,b,c,d):l.push({f:p,params:[a,b,c,d]})}catch(e){"undefined"!=typeof console&&console.error("TrackEvent Error: "+e)}},c.identifyUser=function(a,b){try{j?q(a,b):l.push({f:q,params:[a,b]})}catch(c){"undefined"!=typeof console&&console.error("IdentifyUser Error: "+c)}},c.addUserTraits=function(a){try{j?r(a):l.push({f:r,params:[a]})}catch(b){"undefined"!=typeof console&&console.error("AddUserTraits Error: "+b)}},c.aliasUser=function(a,b){try{j?s(a,b):l.push({f:s,params:[a,b]})}catch(c){"undefined"!=typeof console&&console.error("AliasUser Error: "+c)}},c.addToGroup=function(a,b){try{j?t(a,b):l.push({f:t,params:[a,b]})}catch(c){"undefined"!=typeof console&&console.error("addToGroup Error: "+c)}},c.trackPageVisit=function(a){try{j?u(a):l.push({f:u,params:[a]})}catch(b){"undefined"!=typeof console&&console.error("trackPageVisit Error: "+b)}},c.decorateURL=function(a,b){b="undefined"!=typeof b?b:!1;var c=[{key:"utm_source",utmz:"utmcsr"},{key:"utm_campaign",utmz:"utmccn"},{key:"utm_medium",utmz:"utmcmd"},{key:"utm_term",utmz:"utmctr"},{key:"utm_content",utmz:"utmcct"}],d=[],e=[];for(i=0;i<c.length;i++){var f=A(c[i].key);f&&(d.push(c[i].key+"="+f),b&&c[i].utmz&&e.push(c[i].utmz+"="+f))}return b&&e.length>0&&(e=e.join("|"),d.push("__utmz=."+e)),B(a,d)},c.setIframeURL=function(a,d,e){var f=e;"undefined"==typeof f&&(f=window);var g=b(a,f);if(null===g&&(f=getDomainTop(),g=b(a,f)),null!=g)try{var i=setTimeout(function(a){return function(){a.src=d}}(g),500);!function(a,b){return c.ready(function(){try{if(h){var e=window._gaq=window._gaq||[];e.push(function(){var c=_gat._getTrackerByName();a.src=c._getLinkerUrl(d),clearTimeout(b)})}else a.src=c.decorateURL(d),clearTimeout(b)}catch(f){a.src=d}})}(g,i)}catch(j){g.src=d}else console.log("osAnalytics.setIframeURL: unable to find iframe with id ["+a+"]")};var p=function(a,b,c,g){try{if("undefined"!=typeof console&&console.log("TrackEvent: "+a+" # "+b+" # "+c+" # "+g),"undefined"==typeof a)throw new Error("The eventName must be defined.");if(null!=b)H(b,"category")||(b.category=c),H(b,g)&&(b.label=b[g]);else var b={category:c};d?analytics.track(a,b):_kmq.push(["record",a,b]),e&&Intercom("trackEvent",a,b),f&&"undefined"!=typeof _gaq&&"undefined"!=typeof b.category&&("undefined"!=typeof b.label?("undefined"!=typeof b.value&&_gaq.push(["_trackEvent",c,a,b.label,b.value]),_gaq.push(["_trackEvent",c,a,b.label])):_gaq.push(["_trackEvent",c,a]))}catch(h){"undefined"!=typeof console&&console.error("TrackEvent Error: "+h)}},q=function(a,b){try{if("undefined"!=typeof console&&console.log("IdentifyUser: "+a+" # "+b),d){if(!g)var c={Intercom:!1};null!=b?analytics.identify(a,b,{integrations:c}):analytics.identify(a,{},{integrations:c})}else _kmq.push(["identify",a]),null!=b&&_kmq.push(["set",y(b)])}catch(e){"undefined"!=typeof console&&console.error("IdentifyUser Error: "+e)}},r=function(a){try{if("undefined"!=typeof console&&console.log("AddUserTraits: "+a),d){if(!g)var b={Intercom:!1};null!=a&&analytics.identify(a,{integrations:b})}else null!=a&&_kmq.push(["set",y(a)])}catch(c){"undefined"!=typeof console&&console.error("AddUserTraits Error: "+c)}},s=function(a,b){try{"undefined"!=typeof console&&console.log("AliasUser: "+a),d?a!=b&&a&&(b?analytics.alias(a,b):analytics.alias(a)):a&&b&&_kmq.push(["alias",a,b])}catch(c){"undefined"!=typeof console&&console.error("AliasUser Error: "+c)}},t=function(a,b){try{"undefined"!=typeof console&&console.log("addToGroup: "+a+" # "+b+" # "),null!=b?d?analytics.group(a,b):_kmq.push(["set",z(b,a)]):d?analytics.group(a):_kmq.push(["set",z(b,a)])}catch(c){"undefined"!=typeof console&&console.error("addToGroup Error: "+c)}},u=function(a){try{"undefined"!=typeof console&&console.log("TrackPageVisit"),d?(o&&(a=D(a)),analytics.page(a)):KM.pageView()}catch(b){"undefined"!=typeof console&&console.error("TrackPageView Error: "+b)}},v=function(a,b){var c=window.analytics=window.analytics||[];if(!c.initialize)if(c.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{c.invoked=!0,c.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"],c.factory=function(a){return function(){var b=Array.prototype.slice.call(arguments);return b.unshift(a),c.push(b),c}};for(var d=0;d<c.methods.length;d++){var e=c.methods[d];c[e]=c.factory(e)}c.load=function(a){var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+a+"/analytics.min.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)},c.SNIPPET_VERSION="3.1.0",c.load(a);var f={};o&&(f=D(f)),c.page(f),b&&c.ready(b)}},w=function(a,b){function c(a){setTimeout(function(){var b=document,c=b.getElementsByTagName("script")[0],d=b.createElement("script");d.type="text/javascript",d.async=!0,d.src=a,c.parentNode.insertBefore(d,c)},1)}var d=window._kmq=window._kmq||[],e=e||a;c("//i.kissmetrics.com/i.js"),c("//doug1izaerwt3.cloudfront.net/"+e+".1.js"),b&&d.push(b)},x=function(a,b){function c(){var b=f.createElement("script");b.type="text/javascript",b.async=!0,b.src="https://widget.intercom.io/widget/"+a;var c=f.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}var d=window,e=d.Intercom;if("function"==typeof e)e("reattach_activator"),e("update",intercomSettings);else{var f=document,g=function(){g.c(arguments)};g.q=[],g.c=function(a){g.q.push(a)},d.Intercom=g,d.attachEvent?d.attachEvent("onload",c):d.addEventListener("load",c,!1)}},y=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return null!=b&&""!=b&&(c._p=b),c},z=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c["Group - "+d.charAt(0).toUpperCase()+d.slice(1)]=a[d]);return null!=b&&""!=b&&(c["Group - id"]=b),c},A=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},B=function(a,b){if(b.length>0){b=b.join("&");var c=document.createElement("a");c.href=a;var d=c.search.length>0?"&":"?";a=a+d+b}return a},C=function(){var a=[],b=["__insp_targlpt","__insp_norec_sess","__insp_targlpu","__insp_ref","__insp_nv","__utma","__utmc","__utmz","_gat","ajs_group_id","ajs_user_id","DEVICE_TYPE","DEVICE_SIMULATION","km_abi","km_e","km_eq","km_lv","km_ni","km_uq","km_vs","kvcd","OS_AcceptCookies","pageLoadedFromBrowserCache","PlatformLicensing","s%3Acontext.referrer"];return document.cookie.split(";").forEach(function(c){var d=c.trim().split("=");-1===b.indexOf(d[0])&&a.push({id:d[0],value:d[1]})}),a},D=function(a){var b=a||{};return b.cookies=C(),b},E=function(){k=!0,G()},F=function(){for(var a in m)m[a]();m=[];for(var a in l)l[a].params&&l[a].f(l[a].params[0],l[a].params[1],l[a].params[2],l[a].params[3]);l=[]},G=function(){for(var a in n)n[a]();n=[]},H=function(a,b){return"undefined"!=typeof b&&null!==b&&"undefined"!=typeof a&&null!==a?Object.keys(a).filter(function(a){return a.toLowerCase()===b.toLowerCase()}).length>0:void 0};return c}(jQuery);window.self!==getDomainTop()&&osAnalytics.trackPageVisit({path:location.pathname,referrer:document.referrer,title:document.title,search:location.search,url:-1!=location.href.indexOf("?")?location.href:location.href+location.search});